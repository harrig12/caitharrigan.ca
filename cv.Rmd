---
site: distill::distill_website
title: "Cait Harrigan, MSc."
description: <a href="cv.pdf" class="cv_button">Print this CV</a>
output:
  distill::distill_article:
    css: ["files/cv.css",
          "https://use.fontawesome.com/releases/v6.0.0/css/all.css",
          "https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css"]
    includes:
      in_header: "files/header.html"
knit: pagedown::chrome_print
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
options(knitr.kable.NA = '')
library(tidyverse)
library(knitr)
library(kableExtra)
library(bibtex)
library(RefManageR)
```

```{r pub-setup, include=FALSE}
# bibliography items 
publications <- "files/harrigan.bib"
# bibliography items 
embedURL <- RefManageR:::MakeBibLaTeX()
# Create modifications for Article, and Misc types
with(embedURL,{
  
     embedURL$fmtJTitle <- function (paper) {
       title <- paper$title
       url <- paper$url
       if (!is.null(title) & !is.null(url)) 
         if (grepl("[.?!]$", title, useBytes = TRUE)) 
           paste0("\\dQuote{", paste0("[", collapse(cleanupLatex(title)),
                                      "](", url, ")"), "}")
         else paste0("\\dQuote{", paste0("[", collapse(cleanupLatex(title)),
                                         "](", url, ")"), "}. ")
       else if (!is.null(title)) 
         if (grepl("[.?!]$", title, useBytes = TRUE)) 
           paste0("\\dQuote{", collapse(cleanupLatex(title)), "}")
         else paste0("\\dQuote{", collapse(cleanupLatex(title)), "}. ")
  

     }
     
     embedURL$formatArticle <- function (paper) {
       collapse(c(fmtPrefix(paper), fmtBAuthor(paper), fmtJTitle(paper), 
                  fmtAddOn(paper$titleaddon), fmtLanguage(paper$language), 
                  fmtTranslator(paper), fmtCommentator(paper$commentator), 
                  fmtAnnotator(paper$annotator), fmtVersion(paper$version), 
                  sentenceP(paste0(c(paste0(c(fmtJournal(paper), fmtSeries(paper$series)), 
                                            collapse = ""), fmtVolume(paper$volume, paper$number), 
                                     fmtJournDate(paper)), collapse = " "), 
                            fmtBTitle(paper$issuetitle, paper$issuesubtitle), 
                            fmtEditor(paper, suffix = NULL, prefix = ". "), 
                            fmtNote(paper$note, prefix = ". ", suffix = NULL), 
                            pgs = fmtPages(paper$pages, paper$pagination), 
                            sep = ""), fmtISSN(paper$issn), fmtDOI(paper$doi), 
                  fmtEprint(paper), fmtAddendum(paper$addendum), 
                  fmtPubstate(paper$pubstate)))
       
     }
     
     embedURL$formatMisc <- function (paper) {
       collapse(c(fmtPrefix(paper), fmtBAuthor(paper), fmtJTitle(paper), 
                  fmtAddOn(paper$titleaddon), fmtLanguage(paper$language), 
                  fmtEditor(paper, !length(paper$author)), fmtHowPublished(paper$howpublished), 
                  addPeriod(fmtType(paper$type)), fmtVersion(paper$version), 
                  fmtNote(paper$note), sentence(fmtPublisher(paper$organization, 
                                                             paper$location, paper$address), 
                                                fmtDate(attr(paper, "dateobj")), sep = ""), 
                  fmtDOI(paper$doi), fmtEprint(paper), 
                  fmtAddendum(paper$addendum), 
                  fmtPubstate(paper$pubstate)))
     }
})
# Register bibliography
tools::bibstyle("embedURL", embedURL)
# Set options
BibOptions(bib.style = "embedURL", match.author = "exact", 
                   sorting = 'ydnt', max.names = 99, first.inits = FALSE, 
                   style = "text", no.print.fields = c("doi","urldate", "issn", "note"))
```

```{r entries-setup, include=FALSE}
googlesheets4::gs4_auth()
cv_entries <- googlesheets4::read_sheet("1JKlSIuDrfC1wa4V1zf4Si_Tu34upiBEn1DlvFfDeFh0", col_types = "c")
#cv_entries <- subset(cv_entries, website_show == T)
cv_entries <- subset(cv_entries, website_show == T)



# formatting positions with descriptions
longEntry <- function(data, showDesc = F){
  data %>%
  mutate(what = str_c("__",what, "__, ", where)) %>%
  mutate(what = ifelse(!is.na(description) & showDesc == T, 
                       str_c(what, "<br class='work-break'>", description), what)) %>%
  #mutate(when = gsub(when, pattern = " --- ", replacement = " --- <br>")) %>%
  select(when, what) %>%
  kable(escape = F) %>%
  column_spec(1, width = "11em") 
}

# formatting for one-liners
shortEntry <- function(data, wide_date = T){
  data %>%
    select(when, what, where) %>% 
    kable(format = "html", align = "llr", escape = F) %>%
    column_spec(3, italic = T) %>%
    column_spec(2, width = "20em") %>%
    column_spec(1, width = ifelse(wide_date, "11em", "6em") )
}

bestOf <- function(l){
  # return the first non-na argument
  #print(head(data.frame(l)))
  r <- apply(data.frame(l), FUN = function(x){x[which(!is.na(x))][[1]]}, MAR = 1)
  return(r)
}

# general formatting
cv_entries <- arrange(cv_entries, desc(pmax(year_end, year_begin, na.rm = T)), desc(year_begin), desc(month_begin)) 
stopifnot(all(!is.na(cv_entries$year_begin)))
cv_entries <- cv_entries %>%  
  mutate(month_begin = month.abb[as.numeric(month_begin)]) %>%
  mutate(month_end = month.abb[as.numeric(month_end)]) %>%
  mutate(when = bestOf(list(str_c(month_begin, " ", year_begin, " --- ", month_end, " ", year_end),
                            str_c(month_begin, " ", year_begin, " --- ", year_end),
                            str_c(year_begin, " --- ", year_end),
                            str_c(month_begin, " ", year_begin),
                            year_begin)))
```

<div id=cv_print_header>

<p style="font-size: 15pt; text-align: center; font-weight:300; padding-bottom: 5pt">
Cait Harrigan, MSc.
</p>

<p style="text-align:center; font-weight:400">
cait.harrigan@mail.utoronto.ca \| View this CV online at [caitharrigan.ca/cv](https://caitharrigan.ca/cv)
</p>

</div>

I am a graduate student at the University of Toronto supervised by [Quaid Morris](https://www.morrislab.ca/) and [Kieran Campbell](https://www.camlab.ca/), and a graduate researcher at the [Vector Institute](https://vectorinstitute.ai/). I did my undergraduate studies at the University of Toronto, in Computational Biology and Statistics. My thesis work pertains to cancer genomics, and modelling the evolutionary constraints that underlie how mutation events occur in DNA. I'm passionate about open science, and promoting great mentorship in the sciences.

## Memberships & Affiliations

```{r affiliations}
cv_entries %>% 
  filter(type == "affiliation_and_membership") %>% 
  shortEntry() %>%
  column_spec(2, "15em")
```

## Education

```{r education}
cv_entries %>% 
  filter(type == 'education') %>% 
  mutate(what = paste0(what, ', ', description)) %>%
  shortEntry() %>%
  column_spec(2, "28em")
```

## Work experience

```{r workexp}
cv_entries %>% 
  filter(type == 'work') %>% 
  shortEntry(wide_date = T)
```

## Publications

```{r publications}
boldName <- function(refsList){
    
  # add delim, and split entries
  refsList[which(nchar(refsList) == 0)] <- "<DELIM>"
  
  paste0(refsList, collapse = " ") %>% 
    strsplit(split = "<DELIM>") %>%
    unlist() -> entries
  
  # bold my name
  entries <- gsub("Harrigan, Caitlin F", "__Harrigan, Caitlin F__", fixed = T, entries)
  entries <- gsub("Caitlin F Harrigan", "__Caitlin F Harrigan__", fixed = T, entries)
  entries <- gsub("Harrigan, Caitlin", "__Harrigan, Caitlin__", fixed = T, entries)
  entries <- gsub("Caitlin Harrigan", "__Caitlin Harrigan__", fixed = T, entries)
  
  # remove numeric if necessary
  #entries <- gsub('\\[', '', entries)
  #entries <- gsub('\\]', '.', entries)

  return(entries)

}


makePubTable <- function(bib){
  # reverse these to match date order of refs
  tibble(entry = snatchPrint(bib),
         paperLink = rev(unlist(bib$url)), 
         codeLink = rev(unlist(bib$annote))) %>%
    mutate(paperLink = str_c("[paper]", "(", paperLink, ")")) %>%
    mutate(paperLink = cell_spec(paperLink, background = "var(--hl-col)",
                            font_size = "1.2em")) %>%
    mutate(codeLink = ifelse(codeLink == 'NULL', '', codeLink)) %>%
    mutate(codeLink = case_when(codeLink != '' ~ str_c("[code]", "(", codeLink, ")"))) %>%
    mutate(codeLink = case_when(codeLink != '' ~ cell_spec(codeLink, background = "var(--hl-col)",
                                                           font_size = "1.2em"))) %>%
    kable(escape = F) %>%
    column_spec(2:3, width_min = "4em")
    
}

refs <- ReadBib(publications) 
NoCite(refs)


refs %>% 
  # extract data from bibentry
  PrintBibliography() %>%
  capture.output() %>%
  boldName() %>% 
  tibble() %>%
  mutate(rn = paste(1:length(refs), ".")) %>%
  column_to_rownames(var='rn') %>%
  kable() %>%
  column_spec(1, width_min = "1.5em")

```

## Talks & Posters

```{r talks}
# research dissemination
cv_entries %>% 
  filter(type == 'talks_and_posters') %>% 
  mutate(what = str_c("_", what, "_")) %>%
  mutate(what = str_c(what, "<br>", where), where = description) %>%
  shortEntry(wide_date = F) %>%
  column_spec(2, "29em")
```

<br><br>

## Grants & Awards 

```{r awards}
cv_entries %>% 
  filter(type == 'grants_and_awards') %>% 
  mutate(when = bestOf(
            list(str_c(year_begin, " --- ", year_end),
                       year_begin
                 )
         )) %>%
  longEntry(showDesc = F) %>%
  column_spec(1, "8em") 
  #shortEntry() %>%
  #column_spec(1, "8em") %>%
  #column_spec(2, "27em")
```


## Service

```{r service}
cv_entries %>% 
  filter(type == 'service') %>% 
  shortEntry(wide_date = F) %>%
  column_spec(2, "15em")
```

## Teaching

<em style="font-size:0.8em">Unless otherwise noted, school is University of Toronto</em>

```{r teaching}
cv_entries %>% 
  filter(type == 'teaching') %>% 
  mutate(when = str_c(bestOf(list(day_begin,month_begin)), " ", year_begin)) %>%
  mutate(where = '') %>%
  shortEntry() %>%
  column_spec(1, "6.5em") %>%
  column_spec(2, "42em")
```


## Event Organization & Volunteering

```{r volunteering}
cv_entries %>%
  filter(type == 'volunteering' | type == 'event_org' | type =='mentorship') %>%
  #shortEntry()
  longEntry(showDesc = T) %>%
  column_spec(1, "6.5em")
```
